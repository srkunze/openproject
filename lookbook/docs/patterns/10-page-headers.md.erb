This component is an adaptation for OpenProject requirements of the React component `PageHeader` of Primer. This document will only state the points that differ from what **[Primer specifies](https://primer.style/components/page-header)** about this component in their documentation.

## Anatomy

There are minor adjustments on how the composition of this component is defined in Primer for OpenProject:

**[Context bar](https://primer.style/components/page-header#context-bar):** Will be always present in all pages and will change depending on the viewport:

- **Desktop:** The content of the context bar will be a [breadcrumb](https://primer.style/components/breadcrumbs).
- **Tablet:** The content of the context bar will be a [breadcrumb](https://primer.style/components/breadcrumbs).
- **Mobile:**
  - The content of the breadcrumb will collapse to a single argument using the parent link style.
  - All the page header actions will merge into an [ActionMenu](https://primer.style/components/action-menu) triggered by a single [Icon button](https://primer.style/components/icon-button) in the context bar.

**[Title bar](https://primer.style/components/page-header#title-bar):** The default (medium) size will be always used keeping the capability as optionals of adding leading and trailing visuals and actions.

**Actions:** A maximum amount of 5 actions can be displayed independently in the Page Header actions. If there are more than 5 actions the last one will be an [Icon button](https://primer.style/components/icon-button) with a more action, this one will trigger all the extra actions in a dropdown. All actions require their own icon.

**Divider**: The divider bellow the Page Header will be always present with the exception of displaying a [Tav nav](https://primer.style/components/tab-nav) as navigation element bellow.

## **Exceptional behaviours**

- A special behaviour occurs when the page can be saved (or saved as) as one of the Page Header actions will be used to display an informational text and a link to perform the action.
- Work packages details would be the only exceptional case where the breadcrumb will be used to display the parent work package instead of the navigational hierarchy.

## Best practices

**Do**

- Limit the actions of the Page Header to the global actions of the page (e. for a work package list: favourite, share, full-screen, …). *Note: this can not be 100% fulfilled until the Primer page sub-headers are implemented.*
- Use the H1 tag always for the Page Header.
- All actions require their own icon.
- Use Icon buttons instead of buttons for actions only when the icon is clear enough to describe the action.

**Don't**

- Don’t use the trailing action in the page header as navigation element “back”, the breadcrumb and the browser back are covering this case.
- Use Page Headers as section sub-header inside of the content of the page.

## Used in

The Page Header is a navigational mandatory component in all pages that will always use as title the name of the page where is contained.

## Examples

The PageHeader actions offer a set of predefined slots, to use specific components inside the the PageHeader actions, such as:

* **Primer::Alpha::Dialog** ([`with_action_dialog`](../../inspect/primer/open_project/page_header/dialog_actions))
  * The trigger button will be part of the actions and collapse on mobile into the mobile action menu. Therefore, an additional `mobile_label`, as well as a `mobile_label` have to passed.
* **Primer::Alpha::ActionMenu** ([`with_action_menu`](../../inspect/primer/open_project/page_header/menu_actions)):
  * The trigger button will be part of the actions. On mobile, the options of the menu will be added to the options of the mobile action menu.
* **Primer::OpenProject::ZenModeButton** ([`with_action_zen_mode_button`](../../inspect/primer/open_project/page_header/zen_mode_button_actions)):
  * The button will collapse on mobile into the mobile action menu.
* **Primer::Beta::IconButton** ([`with_action_icon_button`](../../inspect/primer/open_project/page_header/actions)):
  * The button will collapse on mobile into the mobile action menu. Therefore, an additional `mobile_label` has to passed.
* **Primer::Beta::Button** ([`with_action_button`](../../inspect/primer/open_project/page_header/actions)):
  * The button will collapse on mobile into the mobile action menu. Therefore, an additional `mobile_label`, as well as a `mobile_label` have to passed.
* **Primer::Beta::Link** ([`with_action_link`](../../inspect/primer/open_project/page_header/actions)):
  * The button will collapse on mobile into the mobile action menu. Therefore, an additional `mobile_label`, as well as a `mobile_label` have to passed.
* **Primer::Beta::Text** ([`with_action_text`](../../inspect/primer/open_project/page_header/actions)):
  * The text will be hidden on mobile.

For detailed examples have a look at the other [preview examples](../../inspect/primer/open_project/page_header/playground) of the component.

This is an exemplary call of the `Primer::OpenProject::PageHeader`.

<%= embed OpenProject::Common::PageHeaderPreview, :default, panels: %i[source] %>
